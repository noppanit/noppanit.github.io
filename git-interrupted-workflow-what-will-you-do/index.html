
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Git &#8211; Interrupted Workflow, What Will You Do? - My Blog</title>
  <meta name="author" content="Noppanit Charassinvichai">

  
  <meta name="description" content="When you&#8217;re working on something intensively and you haven&#8217;t finished the thing, suddenly somebody just wants you to do something again &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://noppanit.github.io/git-interrupted-workflow-what-will-you-do/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Blog</a></h1>
  
    <h2>My Blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="noppanit.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Git &#8211; Interrupted Workflow, What Will You Do?</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-03-30T00:00:00-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>When you&#8217;re working on something intensively and you haven&#8217;t finished the thing, suddenly somebody just wants you to do something again which is more important. Normally, what you will do is to create a new branch and commit your changes to the new branch and switch back to the master branch and do the other thing and reset the working directory.</p>

<p>or something like this. I&#8217;ve taken this example from <a href="http://www.kernel.org/pub/software/scm/git/docs/git-stash.html">http://www.kernel.org/pub/software/scm/git/docs/git-stash.html</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># ... hack hack hack ...</span>
</span><span class='line'>git checkout -b my_wip
</span><span class='line'>git commit -a -m <span class="s2">&quot;WIP&quot;</span>
</span><span class='line'>git checkout master
</span><span class='line'>edit emergency fix
</span><span class='line'>git commit -a -m <span class="s2">&quot;Fix in a hurry&quot;</span>
</span><span class='line'>git checkout my_wip
</span><span class='line'>git reset --soft HEAD^
</span><span class='line'><span class="c"># ... continue hacking ...</span>
</span></code></pre></td></tr></table></div></figure>


<p>But there is other way to do this by using git stash. Or something like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># ... hack hack hack ...</span>
</span><span class='line'>git stash
</span><span class='line'>edit emergency fix
</span><span class='line'>git commit -a -m <span class="s2">&quot;Fix in a hurry&quot;</span>
</span><span class='line'>git stash pop
</span><span class='line'><span class="c"># ... continue hacking ...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Well, I just wanted to give an example of git stash so you can get more understanding of what is happening in git stash</p>

<p>first you need a clean directory to start git</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mkdir gitstash <span class="o">&amp;&amp;</span> <span class="nb">cd </span>gitstash <span class="o">&amp;&amp;</span> git init
</span></code></pre></td></tr></table></div></figure>


<p>Now you create a new file to work on</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>touch main
</span></code></pre></td></tr></table></div></figure>


<p>And you edit the file main like you&#8217;re working with something</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>I<span class="err">&#39;</span>m working on something important.
</span></code></pre></td></tr></table></div></figure>


<p>And you use git add to track the file</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add .
</span></code></pre></td></tr></table></div></figure>


<p>And you commit your change</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git commit -m <span class="s2">&quot;Initial Revision&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You will see something like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>master <span class="o">(</span>root-commit<span class="o">)</span> 95616b9<span class="o">]</span> Initial Revision
</span><span class='line'> <span class="m">1</span> files changed, <span class="m">1</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
</span><span class='line'> create mode <span class="m">100644</span> main
</span></code></pre></td></tr></table></div></figure>


<p>Then you keep working of the file main, so the file main would look like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>I<span class="err">&#39;</span>m working on something important.
</span><span class='line'>
</span><span class='line'>Something which is also important.
</span></code></pre></td></tr></table></div></figure>


<p>Then somebody just interrupted you and asked you to fix something which is might impact the work that you&#8217;re working on right now. So, what you need to do is to use git stash to clean your working directory.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git stash
</span></code></pre></td></tr></table></div></figure>


<p>You would see something like this to confirm that you have saved the working directory</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Saved working directory and index state WIP on master: 95616b9 Initial Revision
</span><span class='line'>HEAD is now at 95616b9 Initial Revision
</span></code></pre></td></tr></table></div></figure>


<p>Now you&#8217;re main file would look something like this. It&#8217;s like the file main is rolled back to the HEAD commit</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>I<span class="err">&#39;</span>m working on something important.
</span></code></pre></td></tr></table></div></figure>


<p>Now you edit the file main to be something like this.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>I<span class="err">&#39;</span>m working on something important. Something which is very very important.
</span></code></pre></td></tr></table></div></figure>


<p>And you commit this change</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git commit -am <span class="s2">&quot;Fixed something&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you can go back and keep working on what you&#8217;ve left off by using this command</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git stash pop
</span></code></pre></td></tr></table></div></figure>


<p>You will see something like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Auto-merging main
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in main
</span></code></pre></td></tr></table></div></figure>


<p>Git will try and merge the change for you, if Git cannot merge the file for you, you have to merge it by yourself manually. In this case, the main file has to be merge manually. I just use vimdiff to merge.</p>

<p>Now you&#8217;re main file will look something like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>I<span class="err">&#39;</span>m working on something important. Something which is very very important.
</span><span class='line'>
</span><span class='line'>Something which is also important.
</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Noppanit Charassinvichai</span></span>

      




<time class='entry-date' datetime='2011-03-30T00:00:00-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>12:00 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/knowledges/'>knowledges</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://noppanit.github.io/git-interrupted-workflow-what-will-you-do/" data-via="noppanit" data-counturl="http://noppanit.github.io/git-interrupted-workflow-what-will-you-do/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/how-to-find-neighbours-of-2-dimensional-array/" title="Previous Post: How to find neighbours of 2 dimensional array">&laquo; How to find neighbours of 2 dimensional array</a>
      
      
        <a class="basic-alignment right" href="/mac-osx-override-rm-to-delete-files-to-trash/" title="Next Post: Mac OSX: override rm to delete files to .Trash">Mac OSX: override rm to delete files to .Trash &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/code-review-with-the-world/">Code Review With the World</a>
      </li>
    
      <li class="post">
        <a href="/maps-all-parking-signs-in-nyc/">Maps All Parking Signs in NYC.</a>
      </li>
    
      <li class="post">
        <a href="/im-never-going-back-to-modern-editor-again/">I&#8217;m Never Going Back to Modern Editor Again.</a>
      </li>
    
      <li class="post">
        <a href="/how-to-start-doing-tdd-for-jquery-plugin/">How to Start Doing TDD for jQuery Plugin.</a>
      </li>
    
      <li class="post">
        <a href="/the-most-basic-example-of-linear-regression/">The Most Basic Example of Linear Regression</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/noppanit">@noppanit</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'noppanit',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Noppanit Charassinvichai -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'noppanit';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
