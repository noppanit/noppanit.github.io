
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>MapReduce for dummies. - My Blog</title>
	<meta name="author" content="Noppanit Charassinvichai">

	
	<meta name="description" content="If you are a programmer or work in IT organisations. You must have heard the term &#8220;MapReduce&#8221; at some point. Some of you might be like &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="My Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">My Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.noppanit.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/noppanit" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/noppanit" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:www.noppanit.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">MapReduce for Dummies.</h2>
	<div class="entry-content"><p>If you are a programmer or work in IT organisations. You must have heard the term &#8220;MapReduce&#8221; at some point. Some of you might be like myself, wondering what does it mean. It&#8217;s coined by very smart people from Google (<a href="https://en.wikipedia.org/wiki/Mapreduce" title="MapReduce">reference</a>). So, it must be good. Also, you must have heard this little project called &#8220;<a href="https://hadoop.apache.org/" title="Hadoop">Hadoop</a>&#8221; as an opensource for MapReduce. I have known it for a while but never get a full understanding of what it really means. People always mention that &#8220;Oh, you have a lot of data, MapReduce is very fast. Use that&#8221; but ever wonder why?</p>

<p>So, I would like to explain this to my blog as Einstein once said <a href="http://www.brainyquote.com/quotes/quotes/a/alberteins383803.html#y5CAlRzOrI20wJPS.99"" title="einstein quote">&#8220;If you can&#8217;t explain it simply, you don&#8217;t understand it well enough&#8221;</a>.</p>

<p>If you like reading then this <a href="https://www.usenix.org/legacy/publications/library/proceedings/osdi04/tech/full_papers/dean/dean_html/" title="MapReduce: Simplified Data Processing on Large Clusters">article</a> is for you, written by Jeff and Sanjay from Google.</p>

<p>Here&#8217;s my version of what it means. MapReduce consists of two parts. Map and Reduce, Duh? I think the terms is a bit confusing if you don&#8217;t know what it means but I don&#8217;t know what to call it instead of this either. Let&#8217;s have a look at the first part Map.</p>

<p>Map really is like what we know in every language. <strong>Map&lt;Key, Value></strong> in Java. It has key and value. For example, if your country wants to run an election, you have four parties to choose from Party A, Party B, Party C and Party D. It&#8217;d be like this.</p>

<p><img src="http://www.noppanit.com/wp-content/uploads/2013/12/Screen-Shot-2013-12-21-at-21.34.00.png" title="City eletion scores" ></p>

<p>The key would be your party name. The value would be the votes for each of the key. So, this is how would you process in your computer. Let&#8217;s go back a little bit and have a look at raw data.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PartyA, 10
</span><span class='line'>PartyA, 5
</span><span class='line'>PartyA, 2
</span><span class='line'>PartyB, 5
</span><span class='line'>PartyB, 10
</span><span class='line'>PartyB, 20
</span><span class='line'>PartyB, 30
</span><span class='line'>PartyC, 9
</span><span class='line'>PartyC, 8
</span><span class='line'>PartyC, 7
</span><span class='line'>PartyC, 5
</span><span class='line'>PartyD, 2
</span><span class='line'>PartyD, 1
</span><span class='line'>PartyD, 8
</span><span class='line'>PartyD, 3</span></code></pre></td></tr></table></div></figure>


<p>Then you would get something like this in Ruby. (If I show the code how I transformed this many ruby programmers might scream at me so you can do whatever you like to make it like that)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{"Party A"=&gt;[10, 5, 9, 2]}
</span><span class='line'>{"Party B"=&gt;[5, 10, 20, 30]}
</span><span class='line'>{"Party C"=&gt;[9, 8, 7, 5]}
</span><span class='line'>{"Party D"=&gt;[2, 1, 8, 3]}</span></code></pre></td></tr></table></div></figure>


<p>Now the part &#8220;Map&#8221; is done we can do the next part which is reduce. Reduce is where you process your data at your will on each key to get one or zero result. In this case we want to get the summation of the votes on each party. Luckily ruby comes with this already.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[10, 5, 9, 2].reduce(:+) # =&gt; 26
</span><span class='line'>[5, 10, 20, 30].reduce(:+) # =&gt; 65
</span><span class='line'>[9, 8, 7, 5].reduce(:+) # =&gt; 29
</span><span class='line'>[2, 1, 8, 3].reduce(:+) # =&gt; 14</span></code></pre></td></tr></table></div></figure>


<p>That&#8217;s it now we know that PartyB won the election.</p>

<p>So, here&#8217;s the important question. Why it&#8217;s fast?<br/>
Imagine, if in your country you have 100 cities and each city sends all the cards to the capital city to count, the process would be sequential and might be slow. So, we delegate that to each city then send the final result back to the capital city. That&#8217;s why you will hear a lot of people talking about &#8220;node&#8221;, &#8220;cluster&#8221; or &#8220;distributed&#8221; in MapReduce, because we delegate that to thousands of machines connected together. The classic example on the Internet right now is word counts which imagine how many documents or websites Google has to process each day.</p>

<p>That&#8217;s it. Any feedback is very welcome.</p>

<p>Reference:<br/>
<a href="http://www-01.ibm.com/software/data/infosphere/hadoop/mapreduce/">http://www-01.ibm.com/software/data/infosphere/hadoop/mapreduce/</a><br/>
<a href="https://hadoop.apache.org/docs/r1.1.1/mapred_tutorial.html">https://hadoop.apache.org/docs/r1.1.1/mapred_tutorial.html</a><br/>
<a href="http://www.onebigfluke.com/2013/01/why-is-map-reduce-faster-practical.html">http://www.onebigfluke.com/2013/01/why-is-map-reduce-faster-practical.html</a><br/>
<a href="http://stevekrenzel.com/finding-friends-with-mapreduce">http://stevekrenzel.com/finding-friends-with-mapreduce</a></p>
</div>


<div class="meta">
	<div class="date">




Dec 21st, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		<a class="addthis_button_tweet"></a>
		
		
		
	</div>
	
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Noppanit Charassinvichai

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'noppanit';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://www.noppanit.com/mapreduce-dummies/';
        var disqus_url = 'https://www.noppanit.com/mapreduce-dummies/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-11403715-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>