<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>My thoughts on Play 2.1.1 (Java)</title>
  <meta name="description" content="I have just rolled off from a project using AngularJS and Play 2.1.1. It was a mobile website, I wish I could include the site here as well but it’s still in...">

  
  
  <link rel="stylesheet" href="http://localhost:4000/assets/style.css">

  <link rel="canonical" href="http://localhost:4000/my-thoughts-on-play-2-1-1-java/">
  <link rel="alternate" type="application/rss+xml" title="Noppanit" href="http://localhost:4000/feed.xml">

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>

  
  <!-- font-smoothing is only applied on dark themes -->
  <body class="font-smoothing">

    <header class="px-2 clearfix">
  <!-- <div class="left-lg absolute-lg left-0 top-0 sm-width-full mt-2">
    <a class="no-underline-hover px-1" href="/">
      <span class="inline-block h4 hide-sm ml-2">&#x261c;</span>
    </a>
    <a class="italic no-underline" href="/">
       home
    </a>
  </div> -->
  <div class="right-lg absolute-lg right-0 top-0">
    <ul class="mt-1 mt-lg-2 mr-2 mr-lg-3">
      <li class="inline-block block-lg text-right ml-1 ml-lg-0">
        <a class="italic h4 bold no-underline" href="/">
          <!-- Noppanit -->
          Home
        </a>
      </li>
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</header>


    <div>
      <article class="container mx-auto px-2" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="mt-4 mb-2 clearfix header-text">
    <h1 class="h0 inline-block py-2 mt-4 header-title">My thoughts on Play 2.1.1 (Java)</h1>
    <div class="clearfix mb-4 py-1">
      <p class="h4 lh-condensed"><time datetime="2013-07-01T00:00:00-04:00" itemprop="datePublished">Jul 1, 2013</time></p>
      <div class="col-1 sm-width-full border-top-thick">
      </div>
    </div>
  </div>

  <div class="prose py-4" itemprop="articleBody">
      <p>I have just rolled off from a project using AngularJS and Play 2.1.1. It was a mobile website, I wish I could include the site here as well but it’s still in development. We are using Play! 2.1.1 Java and AngularJs to build a mobile website. So, I’d like to summarise my thoughts here.</p>

<h1 id="play-framework-211">Play Framework 2.1.1</h1>

<p>It’s a really good framework if you want to start something quickly. It’s like Rail in Java. You have everything in this framework, ORM, LESS, RequireJS and also some caching strategy. If in the future, I have a requirement to create a prototype in Java I would choose this framework for sure (Who would create a prototype in Java anyways), buy hey! it can be that who knows. By the way, there are some downsides. As Play considers everything in static. That makes testing quite tricky. For example, every controller is statically created, if you want to have something injected to your controller you have to create a custom global configuration for Play!. Here’s the example.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Global object class
# ~~~~~
# Define the Global object class for this application.
# Default to Global in the root package.
application.global=global.CustomGlobal
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">global</span><span class="o">;</span>

<span class="c1">// CAUTION: this class name must be specified in application.conf</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomGlobal</span> <span class="kd">extends</span> <span class="n">GlobalSettings</span> <span class="o">{</span>
   <span class="kd">private</span> <span class="kd">static</span> <span class="n">MutablePicoContainer</span> <span class="n">dependencies</span> <span class="o">=</span> <span class="n">wireUpDependencies</span><span class="o">();</span>

   <span class="kd">private</span> <span class="kd">static</span> <span class="n">MutablePicoContainer</span> <span class="nf">wireUpDependencies</span><span class="o">()</span> <span class="o">{</span>
         <span class="n">MutablePicoContainer</span> <span class="n">container</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultPicoContainer</span><span class="o">();</span>
         <span class="c1">// Do some injections.</span>
   <span class="o">}</span>
   <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="n">A</span> <span class="nf">getControllerInstance</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="n">aControllerClass</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">dependencies</span><span class="o">.</span><span class="na">getComponent</span><span class="o">(</span><span class="n">aControllerClass</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Then in <strong>/routes</strong> you can use <strong>@</strong> to say not create a controller statically.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET     /                               @controllers.coop.main.Application.index(any = "none")
</code></pre></div></div>

<p>Other thing is EBean which comes with Play!. EBean is built on top of JPA. However, this means you have to learn a new framework if you know Hibernate already. They are quite close. Other than that, I think Play! is great. If you have time you might want to have a look at <a href="http://dropwizard.codahale.com/" title="DropWizard">DropWizard</a> if you just want to create a RESTFul service or <a href="http://www.sparkjava.com/download.html" title="SPARK">SPARK</a> for a sinatra-like java framework.</p>

<h2 id="ebean-query-tuning">EBean Query tuning</h2>

<p>EBean is like another version of Hibernate. It’s basically an ORM framework. There’s a catch in EBean if you turn the showing query on and if you join two or three tables and you use RawSql EBean will fire a lot of query to fetch each and every row you want to use. You will see a massive log. That hurts the performance. If you could use basic EBean for example.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span> <span class="n">orders</span> <span class="o">=</span>   
    <span class="n">Ebean</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="n">Order</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>  
        <span class="o">.</span><span class="na">fetch</span><span class="o">(</span><span class="s">"customer"</span><span class="o">)</span>  
        <span class="o">.</span><span class="na">findList</span><span class="o">();</span>
</code></pre></div></div>

<p>If you use .fetch(“customer”) it will just fire one query. So be careful. If you see a performance hit in your app and if it’s because of database. Check this <a href="http://www.avaje.org/ebean/introquery_joinquery.html" title="EBean join query.">link</a>. So, keep an eye on your performance because the peak might be on your query.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Play! is a good framework for doing something really quick and you don’t want to get your hands dirty with Spring or pure Java servlet. My biggest catch for Play! for me is the ability to write tests and to inject something to a controller. That means it’s hard to write unit-test but you can still write integration tests. If you’re ok with this fact I guess Play! is a good framework to look out for.</p>

<p>Also, Play! documentation is quite incomplete. And every version is really different than the prior version. So, please be careful to choose the write version of your documentation otherwise you might be scratching your head for a long time until you figure it out you’re looking at the wrong documentation.</p>


  </div>
</article>

<div class="container mx-auto px-2 py-2 clearfix">
  <!-- Use if you want to show previous and next for all posts. -->



  <div class="col-4 sm-width-full left mr-lg-4 mt-3">
    <a class="no-underline-hover py-1 block" href="http://localhost:4000/angularjs-cookies-with-play-framework-2-1-1-java-session/">
      <span class="h5 bold">Previous</span>
      <p class="bold h3 link-primary mb-1">AngularJs Cookies with Play Framework 2.1.1 Java Session.</p>
      <p>I have been working with AngularJs and I loved it, but occasionally I ran into some problems and the documentation...</p>
    </a>
  </div>
  
  
  <div class="col-4 sm-width-full left mt-3">
    <a class="no-underline-hover py-1 block" href="http://localhost:4000/my-thoughts-on-angularjs/">
      <span class="h5 bold">Next</span>
      <p class="bold h3 link-primary mb-1">My thoughts on AngularJs</p>
      <p>If you work on web development you probably have heard [AngularJs][1] at some point. It&#8217;s a framework created by people...</p>
    </a>
  </div>


</div>

    </div>

    <div class="container mx-auto clearfix mt-2 mt-lg-4 px-2">
  <div class="border-top-thick">
    <p class="col-8 sm-width-full left py-2 mb-0">This project is maintained by <a class="text-accent" href="https://github.com/noppanit">noppanit</a></p>
    <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
      <li class="inline-block mr-1">
        <a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="Noppanit">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </li>
      <li class="inline-block">
        <a class="github-button" href="https://github.com/noppanit/" data-icon="octicon-star" data-count-href="noppanit//stargazers" data-count-api="/repos/noppanit/#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star noppanit/ on GitHub">Star</a>
      </li>
    </ul>
  </div>
</div>


  </body>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</html>