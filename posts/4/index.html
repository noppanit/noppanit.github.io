
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>My Blog</title>
	<meta name="author" content="Noppanit Charassinvichai">

	
	<meta name="description" content="If you are a programmer or work that is It-related, there&#8217;s a chance that you will come across open sources. If you use Firefox then you have &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="My Blog" type="application/atom+xml">
	<link rel="canonical" href=" https://www.noppanit.com/posts/4/index.html" />
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">My Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.noppanit.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/noppanit" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/noppanit" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:www.noppanit.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/opensource-great-learning-my-case-mozilla-project/">
		
			Why Opensource Is Great for Your Learning? In My Case, Mozilla Project.</a>
	</h2>
	<div class="entry-content">
		<p>If you are a programmer or work that is It-related, there&#8217;s a chance that you will come across open sources. If you use Firefox then you have used an open source already. I got a chance to attend<br/>
Mozilla Festival 2013 in London and I found one desk hidden around the conner with a sign that said &#8220;Get Involved&#8221; I was wondering what kind of involvement was that. So I asked and the guy at the table said if you&#8217;re a programmer or wanted to learn how to code just help us fix some bugs.</p>

<p>The guy gave me a link <a href="http://www.joshmatthews.net/bugsahoy/" title="bugs ahoy">Bugs Ahoy</a> which you can find some bugs on Mozilla projects and help them fix that bug. I&#8217;m particular interested in mobile development so I chose <a href="https://wiki.mozilla.org/Mobile/Fennec/Android#Getting_the_source" title="Fennec">this</a> to fix bugs on mobile. If you don&#8217;t know what you&#8217;re looking for that try <a href="http://www.whatcanidoformozilla.org/#!/en/proglang/cpp">this</a>. The site will help narrow down your interest and tell you what to do next. What I think it&#8217;s the most interesting bit is <a href="https://bugzilla.mozilla.org/buglist.cgi?quicksearch=sw:mentor=&amp;resolution=---" title="mozilla mentors">this</a>. You can find some bugs and if you don&#8217;t even know where to start you will have a mentor who can hold your hands till you finish the bug. After I picked a bug, you sent an email to my mentor immediately and got almost like a step-by-step instructions on how to fix the bug.</p>

<p>Why am I talking about this? This is how open source community works. You release something and you let the community help you to finish it or even test it, provide feedback and fix it. Imagine if you&#8217;re a company and you only have 2 developers to do the job, but this you have the whole world to do your job. It&#8217;s also a good starting point if you want to learn a new language or new technology.</p>

<p><strong>Have fun and learn from the community</strong></p>

		
		
	</div>


<div class="meta">
	<div class="date">




Dec 16th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/learn-to-love-mode-m-dslr/">
		
			How I Learn to Love Mode &#8220;M&#8221; in DSLR.</a>
	</h2>
	<div class="entry-content">
		<p>If you have a DSLR or any mirror-less camera, there&#8217;s a good chance that you will have this &#8220;M&#8221; mode. It&#8217;s a mode where you can control shutter speed or aperture. It sounds scary for most people because at first I think I bought this quite expensive camera I think it should know best what&#8217;s good for my pictures. Mostly I want to just use either &#8220;A&#8221; for everyday shoot or &#8220;S&#8221; if I really want to control my shutter speed but rarely I use this mode. But after I have attended a flash photography course and learned to use &#8220;M&#8221; mode for a flash gun, the reason that the teacher gave us was that it consumes less battery which I think it&#8217;s not the case for camera. I was hooked up and how easy to use &#8220;M&#8221; mode and I transferred that knowledge to my DSLR.</p>

<h2>Why &#8220;M&#8221; mode is good?</h2>

<p>I think this is quite personal. And if you have read blogs from most professionals they will suggest you should try &#8220;M&#8221; mode for better results or just to get used to it. I have been ignored that advice for years. Personally, the good things about manual mode is that you have control over your camera. Also, when you use a flash gun your camera doesn&#8217;t know it. If you shoot in dark and use &#8220;A&#8221; mode your camera will measure the light as very dark and will try to adjust your shutter speed lower. Another good point for me is that it&#8217;s easier and more granular to adjust your stop than exposure. For example, if you shoot in &#8220;A&#8221; or &#8220;S&#8221; and you think your picture is either over or under exposure you will try to increase or decrease your exposure and sometimes I feel like it&#8217;s not what I really want after adjusted it, but adjusting either shutter speed or aperture to me feels more natural.</p>

<h2>How I shoot in &#8220;M&#8221; mode</h2>

<p>First I look at the light conditions to use my judgement about my lights. If it&#8217;s sunny I will base my aperture between F5.6 to F8 or even F11 and then shutter speed around 1/250 so my picture won&#8217;t get blurry. Then I shoot. Then I see if I like it or not, if not I will adjust either aperture or shutter speed. Remember to adjust one thing at a time, because it&#8217;s easier to remember. Luckily, we shoot in digital now so we can erase unwanted images immediately. If I&#8217;m comfortable with the picture now I will shoot with that settings until the light conditions change and start the process again. For example, if suddenly a cloud is in the way they you need to go up one or two stops. Practice like this for a day and you will get used to it gradually. I think it&#8217;s much more fun.</p>

<p>If it&#8217;s a bit shady or poor light conditions I will increase my ISO first to 400 or 600 then repeat the same process.</p>

<p><strong>Updated</strong> As my colleague pointed out after a few hours, the point is to have fun and play with your camera. Enjoy his <a href="http://3oheme.com/blog/2013/06/26/please-have-fun-with-your-camera.html" title="Have fun with your camera">post</a> which is to have fun with &#8220;A&#8221; or &#8220;S&#8221; mode.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Dec 16th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/digital-camera/'>digital camera</a>, <a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/beware-of-phishing-email-mine-is-from-hmrc/">
		
			Beware of Phishing Email. Mine Is From HMRC</a>
	</h2>
	<div class="entry-content">
		<p>Lately, I have been swamped by phishing emails from HMRC or pretend-to-be HMRC. At first, I was thinking it was probable legit because I had just filed my Tax to HMRC and a couple weeks later I got email from this <a href="&#109;&#x61;&#x69;&#x6c;&#x74;&#111;&#x3a;&#114;&#x65;&#102;&#x75;&#x6e;&#x64;&#x73;&#x40;&#x68;&#109;&#x72;&#99;&#46;&#103;&#x6f;&#x76;&#x2e;&#117;&#x6b;">&#x72;&#101;&#x66;&#117;&#x6e;&#x64;&#x73;&#64;&#104;&#x6d;&#114;&#x63;&#x2e;&#x67;&#x6f;&#118;&#x2e;&#x75;&#x6b;</a> and just for a glance I thought hmrc.gov.uk it&#8217;s probably be real. But after a quick google. I found <a href="http://www.hmrc.gov.uk/security/examples.htm" title="hmrc scam">this</a> and <a href="http://www.spamfighter.com/News-12966-HMRC-Cautions-about-Tax-Rebate-Phishing-Scams.htm" title="hmrc scam">this</a>.</p>

<p>Another way to look at the links is to just hover over the links and you will see something that&#8217;s not from HMRC at all. So, please be careful not to fall into something like this.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Dec 16th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/lesson-learnt-basic-java-memory-consumption-memory-cache/">
		
			Lesson Learnt : Basic Java Memory Consumption for In-memory Cache.</a>
	</h2>
	<div class="entry-content">
		<p>I know that these days we&#8217;re in the era of cheap memory. You can pretty much get 8GB of memory on a Notebook off the shelf. I can still remember in the past when I was playing with my 486DX with 64Mb or memory and it was too fast! yeah. People might question what am I doing using a lot of memory and why would you care. In my case, I&#8217;m building a cache which I have to pretty much hold every single object inside the memory. I have over 1 million objects. Well it&#8217;s just 1 million objects which it&#8217;s not a big deal but I have to index and make it searchable which I was told to use hibernate search. Hiberate search is pretty much a wrapper on top of Lucene. That&#8217;s why my my cache it&#8217;s very memory consuming. So, I have to be very careful what I put in my domain object. The example I&#8217;m using it&#8217;s just a basic example which in the real project there will be much more than just this.</p>

<p>For example, I have one <strong>Store</strong> object which it has a method to return jsonified string. So, what I did I just passed <strong>ObjectMapper</strong> to transform my object to be json. However, what I didn&#8217;t realise was that if I passed that from the constructor my object has to store <strong>ObjectMapper</strong> inside the object as well and <strong>ObjectMapper</strong> is a really beefy object. So, If I created a million objects I have to hold another million objects of ObjectMapper as well. So, I just had to pass <strong>ObjectMapper</strong> just when I want to use it. And that save me a lot of memory.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">noppanit</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.fasterxml.jackson.annotation.JsonAutoDetect</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.fasterxml.jackson.annotation.JsonInclude</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.fasterxml.jackson.core.JsonProcessingException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.ObjectMapper</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">annotation</span><span class="o">.</span><span class="na">JsonAutoDetect</span><span class="o">.</span><span class="na">Visibility</span><span class="o">.</span><span class="na">ANY</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">annotation</span><span class="o">.</span><span class="na">JsonAutoDetect</span><span class="o">.</span><span class="na">Visibility</span><span class="o">.</span><span class="na">NONE</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestMemoryConsumption</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">MEGABYTE</span> <span class="o">=</span> <span class="mi">1024L</span> <span class="o">*</span> <span class="mi">1024L</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">LOOP</span> <span class="o">=</span> <span class="mi">1000000</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span> <span class="nf">bytesToMegabytes</span><span class="o">(</span><span class="kt">long</span> <span class="n">bytes</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">bytes</span> <span class="o">/</span> <span class="n">MEGABYTE</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Test</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testMemoryConsumption</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ObjectMapper</span><span class="o">();</span>
</span><span class='line'>        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
</span><span class='line'>        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">LOOP</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">StoreWithToJson</span> <span class="n">storeWithToJson</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">StoreWithToJson</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;description&quot;</span><span class="o">,</span> <span class="n">objectMapper</span><span class="o">);</span>
</span><span class='line'>            <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">storeWithToJson</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">printMemoryConsumption</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Test</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testMemoryConsumptionWithoutObjectMapper</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
</span><span class='line'>        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">LOOP</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Store</span> <span class="n">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Store</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;description&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">store</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">printMemoryConsumption</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printMemoryConsumption</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">Runtime</span> <span class="n">runtime</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">();</span>
</span><span class='line'>        <span class="n">runtime</span><span class="o">.</span><span class="na">gc</span><span class="o">();</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">runFinalization</span><span class="o">();</span>
</span><span class='line'>        <span class="kt">long</span> <span class="n">memory</span> <span class="o">=</span> <span class="n">runtime</span><span class="o">.</span><span class="na">totalMemory</span><span class="o">()</span> <span class="o">-</span> <span class="n">runtime</span><span class="o">.</span><span class="na">freeMemory</span><span class="o">();</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Used memory is bytes: &quot;</span> <span class="o">+</span> <span class="n">memory</span><span class="o">);</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Used memory is megabytes: &quot;</span>
</span><span class='line'>                <span class="o">+</span> <span class="n">bytesToMegabytes</span><span class="o">(</span><span class="n">memory</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@JsonInclude</span><span class="o">(</span><span class="n">JsonInclude</span><span class="o">.</span><span class="na">Include</span><span class="o">.</span><span class="na">NON_NULL</span><span class="o">)</span>
</span><span class='line'><span class="nd">@JsonAutoDetect</span><span class="o">(</span><span class="n">fieldVisibility</span> <span class="o">=</span> <span class="n">JsonAutoDetect</span><span class="o">.</span><span class="na">Visibility</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> <span class="n">getterVisibility</span> <span class="o">=</span> <span class="n">ANY</span><span class="o">,</span> <span class="n">setterVisibility</span> <span class="o">=</span> <span class="n">NONE</span><span class="o">)</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">StoreWithToJson</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">ObjectMapper</span> <span class="n">mapper</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">StoreWithToJson</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">description</span><span class="o">,</span> <span class="n">ObjectMapper</span> <span class="n">mapper</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">mapper</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toJson</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JsonProcessingException</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">mapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kd">class</span> <span class="nc">Store</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">Store</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">description</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">description</span> <span class="o">=</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDescription</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">description</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Result from passing <strong>ObjectMapper</strong> from the constructor.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Used</span> <span class="n">memory</span> <span class="n">is</span> <span class="nl">bytes:</span> <span class="mi">3723968</span>
</span><span class='line'><span class="n">Used</span> <span class="n">memory</span> <span class="n">is</span> <span class="nl">megabytes:</span> <span class="mi">3</span>
</span></code></pre></td></tr></table></div></figure>


<p>Result from passing <strong>ObjectMapper</strong> just when I want to use it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Used</span> <span class="n">memory</span> <span class="n">is</span> <span class="nl">bytes:</span> <span class="mi">1928536</span>
</span><span class='line'><span class="n">Used</span> <span class="n">memory</span> <span class="n">is</span> <span class="nl">megabytes:</span> <span class="mi">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>I know this might be obvious for some people but if you have the same problems as myself this might help shed some lights to something else.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Dec 5th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/another-success-perfect-brew/">
		
			Another Success for My Perfect Brew.</a>
	</h2>
	<div class="entry-content">
		<p><img src="http://upload.wikimedia.org/wikipedia/commons/d/d2/Aeropress_setup.jpg" title="AeroPress" ></p>

<p>So after my first post <a href="https://www.noppanit.com/my-quest-to-find-my-perfect-brew/" title="Perfect brew.">my quest to find my perfect brew</a>. Rather than spending a fortune for a grinder and espresso machine, I decided to go step by step. I ordered my first <a href="http://aerobie.com/products/aeropress.htm" title="AeroPress">AeroPress</a>. After just one sip, I can taste the difference right away. The coffee from this little piece of plastic is amazing. I brewed my coffee with my already grounded coffee from Starbuck and even that the result is remarkable. It&#8217;s very smooth and rich than the french press method. I guess it&#8217;s because of shorter extraction of the coffee and the micro filter which will keep the small particles so you won&#8217;t test the bitterness of the coffee. If you want to take your brew to a different level I highly recommend AeroPress. I&#8217;m not saying to a higher level because some people might like the bitterness of the coffee which sometime I like. But I think you should totally try AeroPress, It&#8217;s totally worth the money. My quest will continue to a grinder and in search of my perfect coffee beans.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Sep 29th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/agile-thailand-2013-agile-in-startup/">
		
			Agile Thailand 2013 &#8211; Agile in Startup</a>
	</h2>
	<div class="entry-content">
		<p>I got the privilege to be a speaker at Agile Thailand 2013. I submitted a talk on the topic &#8220;Agile in Startup&#8221; and got accepted. I didn&#8217;t have any experience to present in the public before and I thought this would be a good opportunity because I have had some experience in startups and it was in my language so it&#8217;s easier for me to practice.</p>

<p>Agile Thailand which was organised by Agile66, a group of top leading agile evangelists in Thailand which some of whom I know personally and worked with in the past. I was really excited because this was going to be my first event as a speaker as I spent the last two years attending conferences and wondering how it&#8217;s going to be like in on the other side. To be standing on the stage freaking out and don&#8217;t know what to speak to hundred of people. I kept thinking about like &#8220;that slides are so bad&#8221;, &#8220;that guy didn&#8217;t prepare anything he just turned up and talked&#8221;. I could do that I thought. Now I realised that it&#8217;s not an easy job to prepare slides in a way that people will understand the stuff coming out of your month. And how to get attention from a couple hundred of people who turn up in your session hoping to get something out of it.</p>

<h2>How do I prepare the slides</h2>

<p>I had to admin I have never prepared any slides before and I was really nervous. But at ThoughtWorks I have seen many good and bad slides and wondering how people prepare good slides. I found this book on the shelf at the office and some of my co-workers recommended this book &#8220;<a href="http://www.amazon.co.uk/Presentation-Zen-Simple-Design-Delivery/dp/0321811984/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1379975645&amp;sr=1-1&amp;keywords=presentation+zen">Presentation Zen</a>&#8220;. So, I decided to give it a go. The book taught me how to deliver good slides which not just putting some bullet points in the slides along side with some pictures and expect that the audience will get what are you trying to say. Most of the time during the talk people should pay attention to you and not the slides. They should just glance your slide while listening to you. So, I cut all my text and swapped with images instead. In summary, the audience should not be reading the slide, they should be listening to you.</p>

<p>Here&#8217;s the slides I used at the conference.</p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/wz2Ag4fywp2Lq7" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/ncharassinvichai/agile-thailand-2013-agile-in-startup" title="Agile Thailand 2013 - Agile in Startup" target="_blank">Agile Thailand 2013 - Agile in Startup</a> </strong> from <strong><a href="//www.slideshare.net/ncharassinvichai" target="_blank">Noppanit Charassinvichai</a></strong> </div></p>

<h2>Feedback</h2>

<p>Feedback or take aways I got from this conference was that I should be more prepared and keeping the time. I was rushing at the end of my talk and was not able to deliver what I wanted to say the most. Seconds, I need to prepare in advance and set the expectation what kind of audience I will be getting. Are they technical people? Or they are just business people? Will they be able to understand what I wanted to say? Last, I need to pick just one specific topic and talk about it rather than trying to fit a broad topic in just one hour.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Sep 23rd, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/conference/'>conference</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/script-merge-csv-files-one-file/">
		
			Script to Merge All Csv Files to One File.</a>
	</h2>
	<div class="entry-content">
		<p>For example I have file structure like this.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>├── 2013-01  
</span><span class='line'>│   ├── 2013-01-avon-and-somerset-street.csv  
</span><span class='line'>├── 2013-02  
</span><span class='line'>│   ├── 2013-02-avon-and-somerset-street.csv  
</span><span class='line'>├── 2013-03  
</span><span class='line'>│   ├── 2013-03-avon-and-somerset-street.csv  
</span><span class='line'>├── 2013-04  
</span><span class='line'>│   ├── 2013-04-avon-and-somerset-street.csv  
</span><span class='line'>├── 2013-05  
</span><span class='line'>│   ├── 2013-05-avon-and-somerset-street.csv  
</span><span class='line'>├── 2013-06  
</span><span class='line'>│   ├── 2013-06-avon-and-somerset-street.csv  
</span><span class='line'>└── 2013-07  
</span><span class='line'>├── 2013-07-avon-and-somerset-street.csv</span></code></pre></td></tr></table></div></figure>


<p>To process multiple files in R or Pandas would be a pain, if I could combine all the csv in every folder into one file and I can work on just that one file.</p>

<p>How to use it&#8217;s really easy. Just copy the source code and paste in anywhere. For example, I would call this **merge_csv</code>. Then you would execute like this.</p></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sh merge_csv &lt;FOLDER_YOU_WANT&gt;
</span></code></pre></td></tr></table></div></figure>


<p>The script will iterate to every folder and sub-folder.</p>

<p><strong>Update</strong><br/>
I also got this from my friend, which is much shorted. I really need to improve my shell script.</p>

<blockquote class="twitter-tweet">
  <p>
    <a href="https://twitter.com/noppanit">@noppanit</a> or 'find . -name *.csv -exec cat {} \; > conjoined.csv'
  </p>
  
  <p>
    &mdash; Nathan Fisher (@natbobc) <a href="https://twitter.com/natbobc/statuses/379745266410471424">September 16, 2013</a>
  </p>
</blockquote>


		
		
	</div>


<div class="meta">
	<div class="date">




Sep 16th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/python-import-dumped-tweets-mongodb/">
		
			Python to Import Your Dumped Tweets to MongoDb</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;m playing around with my tweets. Just so you&#8217;re aware that you could download your entire tweets and play around with it. The format is JSON so I think it makes perfect sense to dump this to MongoDB. But you can&#8217;t just import that straight away it needs some manipulation. I&#8217;m not good at Python so the code here might be tedious for python dudes. I&#8217;m going to use this data in my analysis, which will be captured in the next blog post.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">pymongo</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
</span><span class='line'>
</span><span class='line'><span class="n">path</span> <span class="o">=</span> <span class="s">&#39;./data&#39;</span>
</span><span class='line'><span class="n">client</span> <span class="o">=</span> <span class="n">pymongo</span><span class="o">.</span><span class="n">MongoClient</span><span class="p">(</span><span class="s">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">27017</span><span class="p">)</span>
</span><span class='line'><span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tweets</span>
</span><span class='line'><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span><span class='line'>        <span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&quot;*.js&quot;</span><span class="p">)):</span>
</span><span class='line'>                <span class="n">content</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span><span class='line'>                <span class="n">indexOfFirstEqualSign</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>                <span class="n">pureJson</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="n">indexOfFirstEqualSign</span><span class="p">:]</span>
</span><span class='line'>                <span class="n">jsonifedData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pureJson</span><span class="p">)</span>
</span><span class='line'>                <span class="n">db</span><span class="o">.</span><span class="n">tweets_collection</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">jsonifedData</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
</span><span class='line'>        <span class="n">main</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>The data is kept in <strong>data</strong> folder.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Sep 4th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/python/'>python</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/paris-2013-food-quest/">
		
			Paris 2013: Food Quest.</a>
	</h2>
	<div class="entry-content">
		<p>I have been asked from my friend if I could take him to Paris and show him around what cafes in Paris look like. He opens a <a href="http://www.verdeandco.co.uk/" title="Verde and Co.">sandwich shop</a> in London, Liverpool Street. It is a French style coffee shop where people line up for sandwiches and good chocolate. The shop is decorated with loads of French and Italian products.</p>

<p>So, I started to list out some of the most famous cafes in Paris. We have been to <a href="http://www.lebestofparis.com/best-restaurants-in-paris/le-select-brasserie" title="LeSelect">LeSelect</a> which is the cafe where famous artist, Picasso and some other famous people used to sit there and sip a cup of coffee. I find the staff there very friendly even though they speak very little English. So, I immediately orders a cup of Café au lait which is just coffee with milk. I really like the coffee here which is very smooth and not too strong like Italian coffee. In the cafe you can find a lot of people just sitting there sipping coffee or drinking wine and chat.</p>

<p>Then we went to <a href="http://www.cafedelapaix.fr/fr/index.php" title="Cafe de la paix">Cafe de la Paix</a> which is a cafe under InterContinental hotel. It&#8217;s famous for location which you can see the beautiful opera and even listen to some of the street performers in front of the Opera house. However, it&#8217;s a really touristy place which is why it&#8217;s very pricy. I wouldn&#8217;t recommend here if you&#8217;re on a budget, but if you want to sink yourself in to absorb the atmosphere. Then, you might want to try this Opera Cake. It&#8217;s really delicious with the vanilla sauce.</p>

<p><a href="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-98.jpg"><img src="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-98.jpg" alt="Paris With P_Tong-98" width="400" height="600" class="aligncenter size-full wp-image-1198" /></a></p>

<p>I moved on to supposedly one of the best Chocolatiers in Paris, <a href="http://www.jeanpaulhevin.com/fr/" title="Jean Paul Hevin">Jean-Paul Hévin</a>. We bought a box of macaroons and a bag of assortments. I can tell you this is the best macaroons I have ever tasted. I&#8217;m sure you can find far more tastier macaroons in French, but right now this is my number one. The macaroon is really crisp on the outside and soft on the inside. The filling is also really delicious. I can tell you if you&#8217;re looking for a box of macaroons for a gift, you won&#8217;t be disappointed if you get it from here.</p>

<p><a href="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-111.jpg"><img src="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-111.jpg" alt="Jean Paul Hevin" width="788" height="600" class="aligncenter size-full wp-image-1191" /></a></p>

<p><small><a style="color: #0000ff; text-align: left;" href="https://maps.google.com/maps?f=q&source=embed&hl=en&geocode=&q=Jean+Paul+H%C3%A9vin,+231+Rue+Saint-Honor%C3%A9,+Paris,+France&aq=0&oq=Jean+Paul+&sll=37.0625,-95.677068&sspn=56.243791,135.351563&ie=UTF8&hq=Jean+Paul+H%C3%A9vin,&hnear=231+Rue+Saint-Honor%C3%A9,+75001+Paris,+%C3%8Ele-de-France,+France&ll=48.866221,2.329219&spn=0.006295,0.006295&t=m">View Larger Map</a></small></p>

<p>We only have one day in Paris and that week was rainy the whole week. That&#8217;s why we didn&#8217;t really explore more of Paris plus we ate a lot and I mean a lot. Next time, I&#8217;ll definitely come back for more Cafe and good food.</p>

<p>Well, this probably is one of the worse UX design I have ever seen on a machine. I was trying to buy a ticket. The lady at the counter wouldn&#8217;t sell a ticket to me instead she pointed me to this machine. Which the buttons are not English and instead of up or down buttons. I had to rotate the rolling at the centre. Parisians might find this easy, but I struggled with the machine for 2 minutes. What do you think of the UI?</p>

<p><a href="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-255.jpg"><img src="https://www.noppanit.com/wp-content/uploads/2013/08/Paris-With-P_Tong-255.jpg" alt="Paris With P_Tong-255" width="800" height="533" class="aligncenter size-full wp-image-1193" /></a></p>

<blockquote><p>Don&#8217;t come to Paris on Sunday. Most shops close on Sunday.</p></blockquote>

		
		
	</div>


<div class="meta">
	<div class="date">




Aug 26th, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/travel/'>travel</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/how-to-install-chef-solo-without-root-access/">
		
			How to Install Chef-Solo Without Root Access?</a>
	</h2>
	<div class="entry-content">
		<p>I know the title it&#8217;s stupid. And if you arrived at this post, I know your this question will pop up in your head, &#8220;Why on earth you want to do that?&#8221;. Chef is built in the assumption that it has root access and yeah it makes perfect sense. Without root access it&#8217;s like I want to hire a cleaner to clean my house but I want to get my house cleaned without giving my house key to the cleaner. It&#8217;s the same thing here.</p>

<p>However, I&#8217;m here to just talk about how to do this in a very ugly and hacky way.</p>

<p>Problem:<br/>
One day on a client side, they said we want you to deploy the application to our production VM server, but we cannot give you sudo or root access. Of course, it makes sense why would you give some guy root access. The IT guy gives me one folder which you can do anything as long as you stay inside that folder. We won&#8217;t have any problem because our app is basically just a java application with Jetty container, so it doesn&#8217;t matter where it lives. Now, here comes the problem we want to deploy our application anytime we want and we want to do the <a href="http://martinfowler.com/bliki/PhoenixServer.html" title="PhoenixServer">PhoenixServer</a> pattern. But in this case, it&#8217;s just going to be semi phoenixServer, because we&#8217;re not going to wipe the whole box out. So we thought, yeah we could use Chef to provision the server. Great!. But how can you even install Chef without sudo or root access? If you go to Chef and download the Linux version it will be an RPM which obviously it needs root access to install that, which we don&#8217;t have. Hmm, what are we gonna do?</p>

<p>Solution:<br/>
So we thought, well we just need Chef-solo because it&#8217;s just going to be one server. Chef is written in Ruby and our Centos VM doesn&#8217;t even come Ruby. The problem gets bigger, how can we install Ruby without root access. Ha! now here&#8217;s the tricky part. Chef is Ruby, Ruby is C. We have C, so we could compile Ruby and use gem to install Chef. Woohoo! Sounds easy right? By the way, Chef comes with embedded-ruby already that&#8217;s why when you install Chef you don&#8217;t need to install Ruby first. The Chef guys cleverly embedded Ruby inside Chef with all the gems and deploy that to <strong>/opt/chef</strong>. You can find more information <a href="http://www.opscode.com/chef/install/" title="Chef install">here</a>. So, we could do the same thing but we need to compile Ruby and dependencies to our folder. Ok, I&#8217;ll cut to the chest now. All we need is Ruby and Chef gem. In order to install, ruby which I found out you just need three minimum libraries, zlib, yaml and openssl. Here&#8217;s how to do it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#Install Openssl</span>
</span><span class='line'>wget https://www.openssl.org/source/openssl-1.0.0k.tar.gz
</span><span class='line'>tar zxvf openssl-1.0.0k.tar.gz
</span><span class='line'><span class="nb">cd </span>openssl-1.0.0k
</span><span class='line'>./config shared -fPIC --prefix<span class="o">=</span>/home/centos/ruby --openssldir<span class="o">=</span>/home/centos/ruby/ssl
</span><span class='line'>make <span class="o">&amp;&amp;</span> make install
</span><span class='line'><span class="nb">cd</span> /home/centos
</span><span class='line'>
</span><span class='line'><span class="c">#Install zlib</span>
</span><span class='line'>wget http://zlib.net/zlib-1.2.8.tar.gz
</span><span class='line'>tar xzvf zlib-1.2.8.tar.gz
</span><span class='line'><span class="nb">cd </span>zlib-1.2.8
</span><span class='line'>./configure --prefix<span class="o">=</span>/home/centos/ruby
</span><span class='line'>make <span class="o">&amp;&amp;</span> make install
</span><span class='line'><span class="nb">cd</span> /home/centos
</span><span class='line'>
</span><span class='line'><span class="c">#Install Yaml</span>
</span><span class='line'>wget http://pyyaml.org/download/libyaml/yaml-0.1.4.tar.gz
</span><span class='line'>tar xzvf yaml-0.1.4.tar.gz
</span><span class='line'><span class="nb">cd </span>yaml-0.1.4
</span><span class='line'>./configure --disable-install-doc --prefix<span class="o">=</span>/home/centos/ruby
</span><span class='line'>make <span class="o">&amp;&amp;</span> make install
</span><span class='line'><span class="nb">cd</span> /home/centos
</span><span class='line'>
</span><span class='line'><span class="c">#Install Ruby 1.9.3</span>
</span><span class='line'>wget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p448.tar.gz
</span><span class='line'>tar xzvf ruby-1.9.3-p448.tar.gz
</span><span class='line'><span class="nb">cd </span>ruby-1.9.3-p448
</span><span class='line'>./configure --prefix<span class="o">=</span>/home/centos/ruby --enable-shared --disable-install-doc --with-opt-dir<span class="o">=</span>/home/centos/ruby
</span><span class='line'>make <span class="o">&amp;&amp;</span> make install
</span><span class='line'><span class="nb">cd</span> /home/centos
</span><span class='line'>
</span><span class='line'><span class="c">#Install Chef gem</span>
</span><span class='line'>./ruby/bin/gem install --no-rdoc --no-ri chef
</span></code></pre></td></tr></table></div></figure>


<p>Please note that I installed ruby with chef to <strong>/home/centos/ruby</strong>, you need to change the path to where you want it to be, the same as chef guys decided <strong>/opt/chef</strong> is the best place for Chef to live. However, we don&#8217;t even have access to /opt.</p>

<p>Once you run this piece of code in your VM you will have ruby folder which you can just zip it and deploy to your server. There you go, you just got your customised Chef-solo.</p>

<p>I know it sounds stupid and it&#8217;s really hacky and ugly. But here&#8217;s what we found out so I want to blog it here so any lucky people might find this useful in the future.</p>

		
		
	</div>


<div class="meta">
	<div class="date">




Aug 23rd, 2013</div>
	<div class="tags">


	<a class='category' href='/blog/categories/knowledges/'>knowledges</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        
            <a href="/posts/3" class="prev">Prev</a>
        
    
    
        <a href="/posts/5" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Noppanit Charassinvichai

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'noppanit';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-11403715-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>