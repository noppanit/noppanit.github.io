
<!doctype>
<html lang="en">
  <head>
    <meta content='Ruby : Command-line twitter client made easy - Noppanit' name='title' />
    <meta content='Ruby : Command-line twitter client made easy - Noppanit' name='og:title' />
    <title>Ruby : Command-line twitter client made easy - Noppanit</title>
    <link href='https://www.noppanit.com/images/fav.png' rel='shortcut icon'>
<link href='https://www.noppanit.com/stylesheets/style.css' rel='stylesheet' type='text/css' />
<link href='https://www.noppanit.com/stylesheets/syntax.css' rel='stylesheet' type='text/css' />

<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />

  <meta content='https://www.noppanit.com/posts/ruby-command-line-twitter-client-made-easy' property='og:url' />
  <meta content="Have you every told off that you’re playing in your work? Why do you have to open a browser twitter.com to be so obvi..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->





  </head>
  <body class="lh-copy dark-gray pa0 f6 sans-serif bg-super-white">
    <header class="tc mt4">
      <a href="https://www.noppanit.com">
        <img src="https://www.noppanit.com/images/scribble.png" alt="Home" width="53" height="59">
      </a>
      <p>Noppanit</p>
    </header>
    <div class="mw7 bg-white mt4 mb3 center br2-ns bt bb ba-ns b--light-gray">
      <nav class="bb b--light-gray pv4 tc" aria-label="Main">
        
      </nav>

      <main class="tl f6 relative pa4 pa5-ns overflow-hidden">
        
          <div class="mb4">
            <div class="fw600 light-silver mt1">27 Feb 2011</div>
            <h1 class="ttu f3 mt0 lh-title cb mb2">
              
              Ruby : Command-line twitter client made easy
            </h1>
            
          </div>
        
        <div class="markdown-body">
          <p>Have you every told off that you’re playing in your work? Why do you have to open a browser twitter.com to be so obvious that you’re not doing your job well. Well, you can build a command-line twitter client very easy. So, you will be one of the geeks who use terminal all the time and your boss won’t know that you’re on twitter all the time.</p>

<p>I will start with installing Ruby and Gem, because I wanted to save time building this program from scratch as much as possible. So, a couples of useful gems would be really helpful.</p>

<p>if you’re new to ruby and use mac same as me, I suggest you install ruby by following this great article.<br />
<a href="http://hivelogic.com/articles/ruby-rails-leopard">http://hivelogic.com/articles/ruby-rails-leopard</a></p>

<p>You can use a great application of all time like MacPort.</p>

<p>Ok! gem installed, ruby installed. Let’s start with installing some gems</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
gem install twitter_oauth

</code></pre></div></div>

<p>If you need to know what OAuth is, I suggest you read this great article <a href="http://hueniverse.com/2007/10/beginners-guide-to-oauth-part-i-overview/">http://hueniverse.com/2007/10/beginners-guide-to-oauth-part-i-overview/</a></p>

<p>Basically, OAuth is a helper to help you login to twitter.com without exposing or sending your login details over the Internet. It’s like public and private key. But If you’re doing for a single-user like me, then you don’t have to worry anything about this. You just need 4 keys to access twitter APIs.</p>

<p>First, you will need to register your app with Twitter. Go to this page and follow the steps. <a href="http://twitter.com/apps">http://twitter.com/apps</a></p>

<p>Now you will need four keys to work, go to this page to get all those keys.<br />
<a href="https://dev.twitter.com/apps">https://dev.twitter.com/apps</a></p>

<p>You will want, consumer_key, consumer_secret. You can get them from your application setting page, then click on My Access Token on the right-hand sided bar. Note down Access Token and Access Token Secret. Then you’re good to go.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">#!/usr/bin/env ruby</span>

<span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'twitter_oauth'</span>

<span class="no">TWITTER_CONSUMER_KEY</span> <span class="o">=</span> <span class="s1">'Your Consumer Key'</span>
<span class="no">TWITTER_CONSUMER_SECRET</span> <span class="o">=</span> <span class="s1">'Your Consumer Secret'</span>
<span class="no">TWITTER_ACCESS_TOKEN</span> <span class="o">=</span> <span class="s1">'Your Access Token'</span>
<span class="no">TWITTER_ACCESS_SECRET</span> <span class="o">=</span> <span class="s1">'Your Access Token Secret'</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">TwitterOAuth</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
  <span class="ss">:consumer_key</span> <span class="o">=&gt;</span> <span class="no">TWITTER_CONSUMER_KEY</span><span class="p">,</span>
  <span class="ss">:consumer_secret</span> <span class="o">=&gt;</span> <span class="no">TWITTER_CONSUMER_SECRET</span><span class="p">,</span>
  <span class="ss">:token</span> <span class="o">=&gt;</span> <span class="no">TWITTER_ACCESS_TOKEN</span><span class="p">,</span>
  <span class="ss">:secret</span> <span class="o">=&gt;</span> <span class="no">TWITTER_ACCESS_SECRET</span><span class="p">)</span>

<span class="k">case</span> <span class="no">ARGV</span><span class="p">[]</span>
 <span class="k">when</span> <span class="s2">"-l"</span>
  <span class="n">timeline</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">home_timeline</span><span class="p">()</span>
  <span class="n">timeline</span> <span class="o">=</span> <span class="n">timeline</span><span class="p">.</span><span class="nf">reverse</span>
  <span class="n">timeline</span><span class="p">.</span><span class="nf">each</span><span class="p">{</span> <span class="o">|</span><span class="n">tweet</span><span class="o">|</span> 
    <span class="nb">puts</span> <span class="n">tweet</span><span class="p">[</span><span class="s1">'text'</span><span class="p">]</span> <span class="o">+</span> <span class="s2">" @FROM </span><span class="si">#{</span><span class="n">tweet</span><span class="p">[</span><span class="s1">'user'</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
  <span class="p">}</span>
 <span class="k">when</span> <span class="s2">"-u"</span>
  <span class="k">if</span> <span class="no">ARGV</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">nil?</span>
    <span class="nb">puts</span> <span class="s2">"Please enter your status:"</span>
    <span class="n">status</span> <span class="o">=</span> <span class="no">STDIN</span><span class="p">.</span><span class="nf">readline</span><span class="p">.</span><span class="nf">chomp</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">status</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="no">ARGV</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">end</span>
 <span class="k">when</span> <span class="s2">"-m"</span>
  <span class="n">mentions</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">mentions</span><span class="p">()</span>
  <span class="n">mentions</span> <span class="o">=</span> <span class="n">mentions</span><span class="p">.</span><span class="nf">reverse</span>
  <span class="n">mentions</span><span class="p">.</span><span class="nf">each</span><span class="p">{</span> <span class="o">|</span><span class="n">tweet</span><span class="o">|</span> 
    <span class="nb">puts</span> <span class="n">tweet</span><span class="p">[</span><span class="s1">'text'</span><span class="p">]</span> <span class="o">+</span> <span class="s2">" @FROM </span><span class="si">#{</span><span class="n">tweet</span><span class="p">[</span><span class="s1">'user'</span><span class="p">][</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">puts</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
  <span class="p">}</span>
<span class="k">end</span>

</code></pre></div></div>

<p>This is just an example of my application which I use it on terminal. You can run the app by typing</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ruby thenameofthisapplication.rb

</code></pre></div></div>

<p>or you can use symbolic link to /usr/bin and type</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
./thenameofthisapplication

</code></pre></div></div>

<p>It’s totally up to you.</p>

<p>The Ruby API I used in this example is from this <a href="https://github.com/moomerman/twitter_oauth">https://github.com/moomerman/twitter_oauth</a></p>

<p>And this is the Twitter API that you can have a look.<br />
<a href="http://apiwiki.twitter.com/w/page/22554679/Twitter-API-Documentation">http://apiwiki.twitter.com/w/page/22554679/Twitter-API-Documentation</a></p>

<p>In this way, you can design your application to be whatever you want and when you’re at work, you’ll be on terminal on the time.</p>

<p>Good luck!</p>

        </div>
        <p class="mt4">
  Til next time,<br>
  noppanit
  <span class="silver">at 00:00</span>
</p>
<img src="https://www.noppanit.com/images/scribble3.png" alt="scribble" />

      </main>
      <section class="fixed-l mw7 center w-100 top-50 tc pb4 nt4">
  
    <a href="https://www.noppanit.com/posts/how-to-google-translate-api-with-perl" class="no-underline f1 light-blue hover-silver nl5 fl-l ph3">‹</a>
  
  
    <a href="https://www.noppanit.com/posts/how-to-java-capture-output-from-console" class="no-underline f1 light-blue hover-silver nr5 fr-l ph3">›</a>
  
</section>
    </div>
    <footer class="mw7 center tc pt3 pb4 silver">
      Built with Jekyll using <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>.
      <img src="https://www.noppanit.com/images/scribble2.png" alt="scribble" class="mt4 db center" />
    </footer>
  </body>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</html>
