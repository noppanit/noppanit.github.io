
<!doctype>
<html lang="en">
  <head>
    <meta content='Dependency Injection with Spring by example - Noppanit' name='title' />
    <meta content='Dependency Injection with Spring by example - Noppanit' name='og:title' />
    <title>Dependency Injection with Spring by example - Noppanit</title>
    <link href='https://www.noppanit.com/images/fav.png' rel='shortcut icon'>
<link href='https://www.noppanit.com/stylesheets/style.css' rel='stylesheet' type='text/css' />
<link href='https://www.noppanit.com/stylesheets/syntax.css' rel='stylesheet' type='text/css' />

<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />

  <meta content='https://www.noppanit.com/posts/dependency-injection-with-spring-by-example' property='og:url' />
  <meta content="I think every developer these days have heard this term “Dependency Injection” or “Inversion of Control” before Marti..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->





  </head>
  <body class="lh-copy dark-gray pa0 f6 sans-serif bg-super-white">
    <header class="tc mt4">
      <a href="https://www.noppanit.com">
        <img src="https://www.noppanit.com/images/scribble.png" alt="Home" width="53" height="59">
      </a>
      <p>Noppanit</p>
    </header>
    <div class="mw7 bg-white mt4 mb3 center br2-ns bt bb ba-ns b--light-gray">
      <nav class="bb b--light-gray pv4 tc" aria-label="Main">
        
      </nav>

      <main class="tl f6 relative pa4 pa5-ns overflow-hidden">
        
          <div class="mb4">
            <div class="fw600 light-silver mt1">19 Jan 2011</div>
            <h1 class="ttu f3 mt0 lh-title cb mb2">
              
              Dependency Injection with Spring by example
            </h1>
            
          </div>
        
        <div class="markdown-body">
          <p>I think every developer these days have heard this term “Dependency Injection” or “Inversion of Control” before Martin Fowler coined the term “Dependency Injection”. And how many people are confused by that? Or may be I’m the only one who does not know what it means by injecting something into something and every developer should be happy about it.</p>

<p>I really recommend you to read this article first by <a href="http://www.martinfowler.com/articles/injection.html">Martin Folwer</a>, he has explained it in a very simple way and easy to understand. Additionally, I cannot think of any simpler example to explain than of Martin’s article. So, please do read Martin’s article and Spring in Action for more information.</p>

<p>So, in my example and this is purely from my understanding.</p>

<p>A class student that needs to go to school. You can see that student class is tightly coupled with the class FindARouteToSchool. You can’t have Student without FindARouteToSchool. This is not so bad, but many developers find it not flexible enough. We need to promote loosely coupled.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span>
<span class="o">{</span>
	<span class="n">FindARouteToSchool</span> <span class="n">findARoute</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">goToSchool</span><span class="o">()</span>
	<span class="o">{</span>
		<span class="n">findARoute</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GoByBus</span><span class="o">();</span>
		<span class="n">findARoute</span><span class="o">.</span><span class="na">go</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span> <span class="n">String</span> <span class="n">args</span><span class="o">[]</span> <span class="o">)</span>
	<span class="o">{</span>
		<span class="k">new</span> <span class="nf">Student</span><span class="o">().</span><span class="na">goToSchool</span><span class="o">();</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>So, we need something that can inject something into the Student class, so the class is not dependent to FindARouteToSchool. I have chosen Spring to solve the problem and create a setter object to set a reference of the class FindARouteToSchool.</p>

<p>This is the new Student class which has one more method to set FindARouteToSchool reference.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span>
<span class="o">{</span>
	<span class="n">FindARouteToSchool</span> <span class="n">findARoute</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setFindARoute</span><span class="o">(</span><span class="n">FindARouteToSchool</span> <span class="n">findARoute</span><span class="o">)</span>
	<span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">findARoute</span> <span class="o">=</span> <span class="n">findARoute</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">goToSchool</span><span class="o">()</span>
	<span class="o">{</span>
		<span class="n">findARoute</span><span class="o">.</span><span class="na">go</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span> <span class="n">String</span> <span class="n">args</span><span class="o">[]</span> <span class="o">)</span>
	<span class="o">{</span>
		<span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"spring-idol.xml"</span><span class="o">);</span>
		<span class="n">Student</span> <span class="n">student</span> <span class="o">=</span> <span class="o">(</span><span class="n">Student</span><span class="o">)</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"student"</span><span class="o">);</span>
		<span class="n">student</span><span class="o">.</span><span class="na">goToSchool</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This is the XML configure file of Spring</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans 
  http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"</span><span class="nt">&gt;</span>
  
  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"goByTube"</span>
    <span class="na">class=</span><span class="s">"com.noppanit.GoByTube"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"student"</span> <span class="na">class=</span><span class="s">"com.noppanit.Student"</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"findARoute"</span> <span class="na">ref=</span><span class="s">"goByTube"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>


        </div>
        <p class="mt4">
  Til next time,<br>
  noppanit
  <span class="silver">at 00:00</span>
</p>
<img src="https://www.noppanit.com/images/scribble3.png" alt="scribble" />

      </main>
      <section class="fixed-l mw7 center w-100 top-50 tc pb4 nt4">
  
    <a href="https://www.noppanit.com/posts/why-dummy-text-from-web-template-has-to-be-lorem-ipsum" class="no-underline f1 light-blue hover-silver nl5 fl-l ph3">‹</a>
  
  
    <a href="https://www.noppanit.com/posts/java-builder-pattern-want-to-avoid-getters-and-setters" class="no-underline f1 light-blue hover-silver nr5 fr-l ph3">›</a>
  
</section>
    </div>
    <footer class="mw7 center tc pt3 pb4 silver">
      Built with Jekyll using <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>.
      <img src="https://www.noppanit.com/images/scribble2.png" alt="scribble" class="mt4 db center" />
    </footer>
  </body>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</html>
