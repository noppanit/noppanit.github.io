<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Rails | My Octopress Blog]]></title>
  <link href="http://noppanit.github.io/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://noppanit.github.io/"/>
  <updated>2015-10-01T15:52:09-04:00</updated>
  <id>http://noppanit.github.io/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Rails Lost Session After Doing a POST]]></title>
    <link href="http://noppanit.github.io/rails-lost-session-after-doing-a-post/"/>
    <updated>2011-11-15T00:00:00-05:00</updated>
    <id>http://noppanit.github.io/rails-lost-session-after-doing-a-post</id>
    <content type="html"><![CDATA[<p>I might be the only silly person on the Internet, because I haven&#8217;t found anyone having the same problem as I had before. So, in the future there might be someone like me. Basically, you have a rails application, you didn&#8217;t realise that if you do a POST from a plain</p>

<p><form>
  without using</p></p>

<p>  <div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
    <table cellspacing="0" cellpadding="0">
      <tr>
        <td class="line-numbers">
          <div>
            1<br />2<br />3<br />
          </div>
        </td></p>

<pre><code>    &lt;td&gt;
      &lt;div class="ruby codecolorer"&gt;
        form_for&lt;span class="br0"&gt;&amp;#40;&lt;/span&gt;@some&lt;span class="br0"&gt;&amp;#41;&lt;/span&gt;&lt;br /&gt; ...&lt;br /&gt; &lt;span class="kw1"&gt;end&lt;/span&gt;
      &lt;/div&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<p>  </div></p>

<p>  <p>
    You might be losing the session because of the security reason. According to this <a href="http://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf" title="CSRF">reference</a>
  </p></p>

<p>  <p>
    So, to be safe if you&#8217;re doing a POST don&#8217;t use plain<br /></p>

<pre><code>&lt;form&gt;
  tag. Only use form_for to generate the from and rails will handle everything. You can proof this theory easily by commenting out&lt;/p&gt; 

  &lt;div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;"&gt;
    &lt;table cellspacing="0" cellpadding="0"&gt;
      &lt;tr&gt;
        &lt;td class="line-numbers"&gt;
          &lt;div&gt;
            1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;
          &lt;/div&gt;
        &lt;/td&gt;

        &lt;td&gt;
          &lt;div class="ruby codecolorer"&gt;
            &lt;span class="kw1"&gt;class&lt;/span&gt; ApplicationController &lt;span class="sy0"&gt;&lt;&lt;/span&gt; &lt;span class="re2"&gt;ActionController::Base&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &lt;span class="co1"&gt;#protect_from_forgery &lt;/span&gt;&lt;br /&gt; &lt;span class="kw1"&gt;end&lt;/span&gt;
          &lt;/div&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/div&gt;

  &lt;p&gt;
    Please don&amp;#8217;t do this at production!
  &lt;/p&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thoughts on jQuery Mobile]]></title>
    <link href="http://noppanit.github.io/thoughts-on-jquery-mobile/"/>
    <updated>2011-10-06T00:00:00-04:00</updated>
    <id>http://noppanit.github.io/thoughts-on-jquery-mobile</id>
    <content type="html"><![CDATA[<p>Last week I helped out my friends <a href="http://www.eewei.com" title="Eewei">Eewei</a> and <a href="http://www.fab.co.uk">Jill</a> in <a href="http://futureofwebapps.com/london-2011/">Future of web app conference</a> in London. Unfortunately, I couldn&#8217;t be in the conference. They presented this really amazing called <a href="http://jquerymobile.com/">jQuery Mobile</a></p>

<p>So, you&#8217;re allowed to transform a simple html website to be operational in modern mobile devies, such as iPhone, BB or Android phones. What you need to do it just add a javascript file and a css file from jQueryMobile site and that&#8217;s it. Bam! you have a ready to go mobile website in a min. Interesting to point out is that it&#8217;s still in a development stage and the latest release when I&#8217;m writing this is just a RC1. So, if you try it now you might be getting some bugs or some unresponsive actions when clicking buttons. Also, when you include the javascript src file and the css version, the version of the two files need to be corresponded, otherwise it might not be working correctly.</p>

<p>You can say that these days more and more people are browsing websites from mobile devices. Also, it can be said that IE6 has been holding our back on development of javascript or css on desktop for years now (You might have to include a number of different versions of CSS files for different browsers). Whilst on mobile devices IE doesn&#8217;t have any effects on development. Furthermore, developing native apps for just iPhone or Android might be a daunting task for most people who don&#8217;t have any background on Objective-C. Therefore, I think HTML5 for mobile devices might be a better idea to go than starting to build a native app these days.</p>

<p>I have also built a simple webapp from Rails3 and jQuery Mobile deployed on Heroku. If anybody&#8217;s interested. <a href="https://github.com/noppanit/jquery-mobile-example">https://github.com/noppanit/jquery-mobile-example</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Tutorial : Beer Shop Part I &#8211; Scaffolding]]></title>
    <link href="http://noppanit.github.io/rails-tutorial-beer-shop-part-i-scaffolding/"/>
    <updated>2009-12-18T00:00:00-05:00</updated>
    <id>http://noppanit.github.io/rails-tutorial-beer-shop-part-i-scaffolding</id>
    <content type="html"><![CDATA[<p>I have decided to jump to rails, because I have seen how fast to build an application and how easy it is. I have been a Java Programmer quite a long time, and played with Grails and Rails as well. So, I decided to create this tutorial for my benefit to practice my rails techniques. It is an very simple beer shop. I will start from scratch.</p>

<p>Prerequisite.<br/>
1. Netbeans (I use Netbeans because it provides the rails plugin and everything with one click.<br/>
2. MySQL<br/>
That&#8217;s it. Let&#8217;s start</p>

<ol>
<li><p>Create a rails application<br/>
<a href="http://www.noppanit.com/wp-content/uploads/2009/12/1.png"><img class="alignnone size-medium wp-image-432" title="create rails application" src="http://www.noppanit.com/wp-content/uploads/2009/12/1-300x204.png" alt="create rails application" width="300" height="204" /></a></p></li>
<li><p>Call it BeerShop<br/>
<a href="http://www.noppanit.com/wp-content/uploads/2009/12/2.png"><img class="alignnone size-medium wp-image-433" title="name" src="http://www.noppanit.com/wp-content/uploads/2009/12/2-300x193.png" alt="name" width="300" height="193" /></a></p></li>
<li><p>Configure database: you have to put your own attributes; username and password that correspond with your database configure, don&#8217;t worry you can change it later at file database.yml<br/>
<a href="http://www.noppanit.com/wp-content/uploads/2009/12/3.png"><img class="alignnone size-medium wp-image-434" title="configure database" src="http://www.noppanit.com/wp-content/uploads/2009/12/3-300x193.png" alt="configure database" width="300" height="193" /></a></p></li>
<li><p>Click Finish</p></li>
</ol>


<p>So now, you should have your first rails application created. Try and run it you will get this page. If you don&#8217;t get this page, you might have to check with your database configuration. If you are developing non-database application you might have to <a href="http://www.noppanit.com/ruby-on-rails-disable-database-connection/">turn off the database connection</a>.<br/>
<a href="http://www.noppanit.com/wp-content/uploads/2009/12/4.png"><img class="alignnone size-medium wp-image-435" title="first rails page" src="http://www.noppanit.com/wp-content/uploads/2009/12/4-300x149.png" alt="first rails page" width="300" height="149" /></a></p>

<p>Next, we are creating a scaffolding, this magic command will create everything for us, CRUD and a simple page<br/>
5. Right click on your project and choose generate<br/>
<a href="http://www.noppanit.com/wp-content/uploads/2009/12/5.png"><img src="http://www.noppanit.com/wp-content/uploads/2009/12/5-300x176.png" alt="generate " title="generate " width="300" height="176" class="alignnone size-medium wp-image-438" /></a></p>

<ol>
<li><p>Model Name:</p></li>
</ol>


<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />
        </div>
      </td>
      
      <td>
        <div class="text codecolorer">
          beer
        </div>
      </td>
    </tr>
  </table>
</div>


<p>Attributes Pairs (field:type) :</p>

<div class="codecolorer-container text blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />
        </div>
      </td>
      
      <td>
        <div class="text codecolorer">
          name:string abv:string bottle_size:decimal case_size:decimal price:decimal
        </div>
      </td>
    </tr>
  </table>
</div>


<p>Oh, ahh and don&#8217;t for get to create a database in MySQL as well</p>

<div class="codecolorer-container sql blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />
        </div>
      </td>
      
      <td>
        <div class="sql codecolorer">
          <span class="kw1">CREATE</span> <span class="kw1">DATABASE</span> BeerShop_development
        </div>
      </td>
    </tr>
  </table>
</div>


<p><a href="http://www.noppanit.com/wp-content/uploads/2009/12/6.png"><img src="http://www.noppanit.com/wp-content/uploads/2009/12/6-300x205.png" alt="create beer" title="create beer" width="300" height="205" class="alignnone size-medium wp-image-439" /></a></p>

<p>Now we have got a schema already, we just have to migrate those to our database, by using db:migrate command or run</p>

<div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />
        </div>
      </td>
      
      <td>
        <div class="ruby codecolorer">
          rake db:migrate
        </div>
      </td>
    </tr>
  </table>
</div>


<p><a href="http://www.noppanit.com/wp-content/uploads/2009/12/8.png"><img src="http://www.noppanit.com/wp-content/uploads/2009/12/8-300x176.png" alt="db:migrate" title="db:migrate" width="300" height="176" class="alignnone size-medium wp-image-442" /></a></p>

<p>You will now have a beer already. try to run <a href="http://localhost:3000/beer">http://localhost:3000/beer</a> on your browser. We will have CRUD beer ready to use. It&#8217;s a very ugly page. We will jazz with it later.</p>

<p><a href="http://www.noppanit.com/wp-content/uploads/2009/12/9.png"><img src="http://www.noppanit.com/wp-content/uploads/2009/12/9-300x149.png" alt="beer" title="beer" width="300" height="149" class="alignnone size-medium wp-image-443" /></a></p>

<p>I&#8217;m gonna continue this next week.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Tutorial : Add Testing Data by Using Migration]]></title>
    <link href="http://noppanit.github.io/rails-tutorial-add-testing-data-by-using-migration/"/>
    <updated>2009-12-18T00:00:00-05:00</updated>
    <id>http://noppanit.github.io/rails-tutorial-add-testing-data-by-using-migration</id>
    <content type="html"><![CDATA[<p>From previous tutorial <a href="http://www.noppanit.com/rails-tutorial-beer-shop-part-i-scaffolding/">Rails Tutorial : Beer shop Part I – Scaffolding</a> I have show how to create a very simple scaffolding. This tutorial I will show how to create a testing data. Nobody wants to type SQL statement or add item manually every time they want to use the data. Rails has provided a handy tool to support this already.</p>

<ol>
<li><p><a href="http://www.noppanit.com/wp-content/uploads/2009/12/10.png"><img src="http://www.noppanit.com/wp-content/uploads/2009/12/10-300x205.png" alt="add testing data" title="add testing data" width="300" height="205" class="alignnone size-medium wp-image-448" /></a></p></li>
<li><p>This will create a file in migrate folder ready to use</p></li>
</ol>


<div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />2<br />3<br />4<br />5<br />6<br />7<br />
        </div>
      </td>
      
      <td>
        <div class="ruby codecolorer">
          <span class="kw1">class</span> AddTestData <span class="sy0"><</span> <span class="re2">ActiveRecord::Migration</span><br /> &nbsp; <span class="kw1">def</span> <span class="kw2">self</span>.<span class="me1">up</span><br /> &nbsp; <span class="kw1">end</span><br /> <br /> &nbsp; <span class="kw1">def</span> <span class="kw2">self</span>.<span class="me1">down</span><br /> &nbsp; <span class="kw1">end</span><br /> <span class="kw1">end</span>
        </div>
      </td>
    </tr>
  </table>
</div>


<ol>
<li>We now add test data by editing file add_test_data.rb</li>
</ol>


<div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;height:400px;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />
        </div>
      </td>
      
      <td>
        <div class="ruby codecolorer">
          <span class="kw1">class</span> AddTestData <span class="sy0"><</span> <span class="re2">ActiveRecord::Migration</span><br /> &nbsp; <span class="kw1">def</span> <span class="kw2">self</span>.<span class="me1">up</span><br /> &nbsp; &nbsp; Beer.<span class="me1">delete_all</span><br /> &nbsp; &nbsp; Beer.<span class="me1">create</span><span class="br0">&#40;</span><span class="re3">:name</span> <span class="sy0">=></span> <span class="st0">"Artvelde"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:abv</span> <span class="sy0">=></span> <span class="st0">"5.4%"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:bottle_size</span> <span class="sy0">=></span> <span class="nu0">250</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:case_size</span> <span class="sy0">=></span> <span class="nu0">24</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:price</span> <span class="sy0">=></span> <span class="nu0">30.03</span><span class="br0">&#41;</span><br /> <br /> &nbsp; &nbsp; Beer.<span class="me1">create</span><span class="br0">&#40;</span><span class="re3">:name</span> <span class="sy0">=></span> <span class="st0">"Biere Du Boucanier Dark Ale"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:abv</span> <span class="sy0">=></span> <span class="st0">"9%"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:bottle_size</span> <span class="sy0">=></span> <span class="nu0">330</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:case_size</span> <span class="sy0">=></span> <span class="nu0">24</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:price</span> <span class="sy0">=></span> <span class="nu0">55.64</span><span class="br0">&#41;</span><br /> <br /> &nbsp; &nbsp; Beer.<span class="me1">create</span><span class="br0">&#40;</span><span class="re3">:name</span> <span class="sy0">=></span> <span class="st0">"Bush Ambree"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:abv</span> <span class="sy0">=></span> <span class="st0">"12%"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:bottle_size</span> <span class="sy0">=></span> <span class="nu0">250</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:case_size</span> <span class="sy0">=></span> <span class="nu0">24</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:price</span> <span class="sy0">=></span> <span class="nu0">50.98</span><span class="br0">&#41;</span><br /> <br /> &nbsp; &nbsp; Beer.<span class="me1">create</span><span class="br0">&#40;</span><span class="re3">:name</span> <span class="sy0">=></span> <span class="st0">"Cantillon Grand Cru Bruocsella"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:abv</span> <span class="sy0">=></span> <span class="st0">"5%"</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:bottle_size</span> <span class="sy0">=></span> <span class="nu0">750</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:case_size</span> <span class="sy0">=></span> <span class="nu0">6</span>,<br /> &nbsp; &nbsp; &nbsp; <span class="re3">:price</span> <span class="sy0">=></span> <span class="nu0">46.5</span><span class="br0">&#41;</span><br /> &nbsp; <span class="kw1">end</span><br /> <br /> &nbsp; <span class="kw1">def</span> <span class="kw2">self</span>.<span class="me1">down</span><br /> &nbsp; &nbsp; Beer.<span class="me1">delete_all</span><br /> &nbsp; <span class="kw1">end</span><br /> <span class="kw1">end</span>
        </div>
      </td>
    </tr>
  </table>
</div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby on Rails: Disable Database Connection]]></title>
    <link href="http://noppanit.github.io/ruby-on-rails-disable-database-connection/"/>
    <updated>2009-11-21T00:00:00-05:00</updated>
    <id>http://noppanit.github.io/ruby-on-rails-disable-database-connection</id>
    <content type="html"><![CDATA[<p>Well, I have just entered to the world of ruby. After walked through a demo application. I suddenly encountered a little problem. I created a demo application and it required to use database connection to mysql, or simply Active Record, which I don&#8217;t want to because it&#8217;s just a demo application. And every time I refresh my application, WebBrick will give me a error about database connection failed. Here&#8217;s how to shutdown the Active Record system</p>

<p>In environment.rb looking for the line</p>

<div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />2<br />3<br />
        </div>
      </td>
      
      <td>
        <div class="ruby codecolorer">
          <span class="co1"># Skip frameworks you're not going to use. To use Rails without a database,</span><br /> <span class="co1"># you must remove the Active Record framework.</span><br /> <span class="co1">#config.frameworks -= [ :active_record, :active_resource, :action_mailer ]</span>
        </div>
      </td>
    </tr>
  </table>
</div>


<p>Uncomment the line config.frameworks&#8230; to be</p>

<div class="codecolorer-container ruby blackboard" style="overflow:auto;white-space:nowrap;width:100%;">
  <table cellspacing="0" cellpadding="0">
    <tr>
      <td class="line-numbers">
        <div>
          1<br />2<br />3<br />
        </div>
      </td>
      
      <td>
        <div class="ruby codecolorer">
          <span class="co1"># Skip frameworks you're not going to use. To use Rails without a database,</span><br /> <span class="co1"># you must remove the Active Record framework.</span><br /> config.<span class="me1">frameworks</span> <span class="sy0">-</span>= <span class="br0">&#91;</span> <span class="re3">:active_record</span>, <span class="re3">:active_resource</span>, <span class="re3">:action_mailer</span> <span class="br0">&#93;</span>
        </div>
      </td>
    </tr>
  </table>
</div>


<p>Simply just that!.</p>
]]></content>
  </entry>
  
</feed>
